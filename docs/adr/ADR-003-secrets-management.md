# ADR-003: Управление секретами и конфигурацией
Дата: 2025-10-15
Статус: Accepted

## Context
В проекте появляются параметры, содержащие чувствительные данные. Хранение их в коде или репозитории создаёт риск утечки. Требуется определить безопасный источник и процесс ротации.

Альтернативы:
- Хранить секреты в `.env` файле, не коммитя его в репозиторий.
- Использовать менеджеры секретов (например, AWS Secrets Manager).
- Жёстко прописывать секреты в `config.py`.

## Decision
Принято решение использовать переменные окружения (.env) с поддержкой `python-dotenv`.
Секреты не хранятся в коде. В CI используется секретное хранилище GitHub Actions (`secrets.*`).
Ротация: минимум раз в **30 дней**, контролируется вручную.
Также необходимо добавить проверки `gitleaks` в pre-commit и CI.

## Consequences
**Плюсы:**
- Минимальный риск утечки секретов.
- Совместимо с CI и локальной разработкой.

**Минусы:**
- Ротация вручную требует дисциплины.
- Нет централизованного контроля без внешнего хранилища.

## Security impact
Разделение конфигурации и секретов снижает риск утечки ключей API и паролей.

## Rollout plan #23

## Links
- NFR-06 (секреты и конфигурация)
- R8 (секреты в репозитории)
